Бэкенд, предназначен для создания историй:)

### Для запуска необходимо:
1. в файле docker-compose.yaml изменить OPENROUTER_KEY и SECRET_KEY
2. сбилдить проект docker-compose up --build

*Используется аналог celery под названием arq. Его преимущество в том, что он асинхронный из коробки*

### Бэкенд принимает 4 запроса

POST http://127.0.0.1:8000/create-story
Body {
    "promt": "Расскажи про попугаев. Лимит 100 слов.",
    "role": "Герой"
}

POST http://127.0.0.1:8000/continue-story
Body {
    "session_id":"Session Id",
    "promt":"Перепиши от 3-его лица",
    "changes":"Без изменений"
}

POST http://127.0.0.1:8000/get-story
Body {
    "session_id":"Session Id"
}

GET http://127.0.0.1:8000/my

Ролей может быть 5
role_dict = {
        "рассказчик": "Ты — рассказчик. Опиши происходящее в истории ярко и подробно, создавая атмосферу и эмоции.",
        "редактор": "Ты — редактор. Улучши стиль и грамматику текста, сделай его более выразительным и интересным для читателя.",
        "герой": "Ты — главный герой истории. Отвечай на вопросы, принимай решения и взаимодействуй с другими персонажами.",
        "антагонист": "Ты — антагонист. Создавай препятствия и конфликты для главного героя, добавляй интригу в сюжет.",
        "сценарист": "Ты — сценарист. Предлагай новые сюжетные повороты, развивай историю и придумывай альтернативные концовки."
    }

### Как работает
При первом запросе POST http://127.0.0.1:8000/create-story у юзера записывается его user_id в coockie и хранится вечно. Это для того, чтобы можно было просматривать свои созданные истории. Юзер айди это случайно созданный uuid4

Для продолжения истории используется промпт юзера и ответ от ИИ для сохранения контекста.

Часть промпта занимает системный, роли можно выбрать только из существующих.

В базе данных хранятся истории всех юзеров. 